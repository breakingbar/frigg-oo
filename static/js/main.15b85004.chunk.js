(this["webpackJsonpfrigg-oo"]=this["webpackJsonpfrigg-oo"]||[]).push([[0],{44:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(20),i=a.n(n),o=a(11),r=a(29),s=a(12),l=(a(41),a(15)),d=a(13),u=a(3),m=a(1),j=function(e){var t=e.iconSrc,a=e.navSrc,c=e.navAlt,n=e.navFunc,i=e.title,o=e.flairColor,r=t?Object(m.jsx)("img",{src:t,alt:""}):Object(m.jsx)(m.Fragment,{});return Object(m.jsxs)("header",{className:"app-header",style:{background:o||"#202020"},children:[Object(m.jsx)("button",{className:"app-header__nav-button",onClick:n,children:Object(m.jsx)("img",{src:a,alt:c})}),Object(m.jsxs)("div",{className:"app-header__title-wrap",children:[r,Object(m.jsx)("h1",{children:i})]})]})},b=function(e){var t=e.title,a=e.expDate,c=e.flair,n=e.amout,i=e.unit,o=e.category,r=e.id,s=new Date(Date.parse(a)).toLocaleDateString("en-GB",{year:"numeric",month:"2-digit"}),l=Date.parse(a)-new Date<259200?"list-page__item__desc__alert-true":"list-page__item__desc__alert-false";return Object(m.jsx)(d.b,{to:"/frigg-oo/".concat(o,"/").concat(t.toLowerCase(),"-").concat(r),children:Object(m.jsxs)("section",{className:"list-page__item",children:[Object(m.jsxs)("div",{className:"list-page__item__desc",children:[Object(m.jsx)("div",{className:"list-page__item__desc__line",style:{background:c||"#383838"}}),Object(m.jsx)("h2",{children:t}),Object(m.jsx)("p",{className:l,children:"EXP: ".concat(s)})]}),Object(m.jsx)("p",{className:"list-page__item__amout",children:"".concat(n," ").concat(i)})]})})},g=function(e){var t=e.func,a=e.src,c=e.alt;return Object(m.jsx)("button",{className:"corner-button",onClick:t,children:Object(m.jsx)("img",{src:a,alt:c})})},p=a.p+"static/media/menu-ico.2ccf39fb.svg",h=a.p+"static/media/add-ico.aea357f2.svg",x=function(e){var t=e.navFunc,a=e.title,c=e.titleSrc,n=e.id,i=Object(o.c)((function(e){return e.storage})).filter((function(e){return n===e.category||!n})).map((function(e){return Object(m.jsx)(b,{title:e.name,expDate:e.expires,flair:e.flair,amout:e.amout,unit:e.unit,category:e.category,id:e.id},e.id)})),r=Object(u.f)();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j,{iconSrc:c,navSrc:p,navAlt:"Open menu",navFunc:t,title:a}),Object(m.jsx)("main",{className:"list-page",children:i}),Object(m.jsx)(g,{func:function(){r.push("/frigg-oo/add-item")},src:h,alt:"Add new item"})]})},O=function(e){var t=e.isOpen,a=e.cancelFunc,c=e.confirmFunc,n=e.text;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"nav-module__darken nav-module__darken-".concat(t)}),Object(m.jsx)("div",{className:"confirm-page confirm-page-".concat(t),children:Object(m.jsxs)("div",{className:"confirm-page__pop confirm-page__pop-".concat(t),children:[Object(m.jsx)("p",{children:"Do you want to ".concat(n,"?")}),Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{className:"confirm-page__pop__button confirm-page__pop__button-confirm",onClick:c,children:"Yes"}),Object(m.jsx)("button",{className:"confirm-page__pop__button confirm-page__pop__button-cancel",onClick:a,children:"No"})]})]})})]})},f=a(19),_=[{id:Object(f.c)(),name:"Create new item!",category:"misc",flair:"rgb(45,156,219)",bought:"2021-07-22",expires:"2221-07-21",amout:"0",unit:"g"}],v=Object(f.b)({name:"storage",initialState:_,reducers:{createItem:function(e,t){e.push({id:Object(f.c)(),name:t.payload.name,category:t.payload.category,flair:t.payload.flair,bought:t.payload.bought,expires:t.payload.expires,amout:parseFloat(t.payload.amout.toFixed(2)).toString(),unit:t.payload.unit})},removeItem:function(e,t){var a=e.findIndex((function(e){return e.id===t.payload}));e.splice(a,1)},editItem:function(e,t){var a=e.findIndex((function(e){return e.id===t.payload.id}));e[a].name=t.payload.name,e[a].category=t.payload.category,e[a].flair=t.payload.flair,e[a].bought=t.payload.bought,e[a].expires=t.payload.expires,e[a].amout=parseFloat(t.payload.amout.toFixed(2)).toString(),e[a].unit=t.payload.unit},addToItem:function(e,t){var a=e.findIndex((function(e){return e.id===t.payload.id})),c=parseFloat((Number(e[a].amout)+Number(t.payload.amout)).toFixed(2));e[a].amout=c.toString()},subtToItem:function(e,t){var a=e.findIndex((function(e){return e.id===t.payload.id})),c=parseFloat((Number(e[a].amout)-Number(t.payload.amout)).toFixed(2));e[a].amout=c.toString()}}}),y=v.actions,N=y.createItem,C=y.removeItem,k=y.editItem,F=y.addToItem,S=y.subtToItem,D=v.reducer,B=a.p+"static/media/back-ico.155bddcf.svg",w=a.p+"static/media/edit-ico.cdf693be.svg",I=a.p+"static/media/sbt-ico.d4b5d101.svg",A=function(e){var t=e.id,a=e.name,n=e.category,i=e.flair,r=e.expires,s=e.amout,d=e.unit,b=e.bought,p=Object(u.f)(),x=Object(o.b)(),f=new Date(Date.parse(b)).toLocaleDateString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"}),_=new Date(Date.parse(r)).toLocaleDateString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"}),v=Object(c.useState)(!1),y=Object(l.a)(v,2),N=y[0],k=y[1],D=function(){k(!N)},A=Object(c.useState)(""),z=Object(l.a)(A,2),E=z[0],R=z[1],L=Object(c.useState)(""),T=Object(l.a)(L,2),M=T[0],q=T[1],V=Object(c.useState)(!1),G=Object(l.a)(V,2),P=G[0],U=G[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j,{navSrc:B,navAlt:"Back to list page",navFunc:function(){p.push("/frigg-oo/".concat(n))},title:a,flairColor:i}),Object(m.jsxs)("main",{className:"list-page",children:[Object(m.jsx)("p",{className:"list-page__text",children:"Bought on ".concat(f)}),Object(m.jsx)("p",{className:"list-page__text",children:"Expires on ".concat(_)}),Object(m.jsx)("p",{className:"list-page__amout",children:"".concat(s," ").concat(d)}),Object(m.jsx)("label",{className:"list-page__text",htmlFor:"editAmout",children:"Amout to add/subtract"}),Object(m.jsxs)("div",{className:"list-page__edit-button__wrapper",children:[Object(m.jsx)("button",{className:"list-page__edit-button list-page__edit-button-".concat(P),disabled:!P,onClick:function(){x(F({id:t,amout:E})),console.log(E)},children:Object(m.jsx)("img",{src:h,alt:"Add amout to stock"})}),Object(m.jsx)("input",{name:"editAmout",className:"list-page__field",placeholder:"1",type:"number",min:"0",max:s,onChange:function(e){R(e.target.value),Number(e.target.value)<0?(q("Value too low"),U(!1)):e.target.value?(q(""),U(!0)):(q(""),U(!1))},value:E}),Object(m.jsx)("button",{className:"list-page__edit-button list-page__edit-button-".concat(P),disabled:!P,onClick:function(){Number(E)>Number(s)?(R(s),x(S({id:t,amout:s}))):x(S({id:t,amout:E}))},children:Object(m.jsx)("img",{src:I,alt:"Subtract amout from stock"})})]}),Object(m.jsx)("div",{className:"list-page__error-edit",children:M}),Object(m.jsx)("button",{className:"list-page__remove",onClick:D,children:"Remove item"})]}),Object(m.jsx)(O,{isOpen:N,cancelFunc:D,confirmFunc:function(){x(C(t)),p.push("/frigg-oo/".concat(n))},text:"remove item"}),Object(m.jsx)(g,{func:function(){p.push("/frigg-oo/".concat(n,"/").concat(a.toLowerCase(),"-").concat(t,"/edit"))},src:w,alt:"Edit item entry"})]})},z=a.p+"static/media/alc-ico.d22a1d76.svg",E=a.p+"static/media/bak-ico.b7f29a81.svg",R=a.p+"static/media/bev-ico.f1c2894e.svg",L=a.p+"static/media/can-ico.a288eef6.svg",T=a.p+"static/media/dai-ico.69181878.svg",M=a.p+"static/media/dry-ico.f6436e7e.svg",q=a.p+"static/media/mis-ico.de50d185.svg",V=[{name:"Bakery",src:E,id:"bakery"},{name:"Beverages",src:R,id:"veverages"},{name:"Canned and jarred",src:L,id:"canned-and-jarred"},{name:"Dairy",src:T,id:"dairy"},{name:"Dry goods",src:M,id:"dry-goods"},{name:"Produce",src:a.p+"static/media/prod-ico.f39ab04c.svg",id:"produce"},{name:"Protein",src:a.p+"static/media/prot-ico.bfa41d5b.svg",id:"protein"},{name:"Ready-made",src:a.p+"static/media/rea-ico.f94813e2.svg",id:"ready-made"},{name:"Snacks",src:a.p+"static/media/sna-ico.da9a674b.svg",id:"snacks"},{name:"Alcohol",src:z,id:"alcohol"},{name:"Supplements",src:a.p+"static/media/sup-ico.dc1a8276.svg",id:"supplements"},{name:"Miscellaneous",src:q,id:"misc"}],G={name:"All",src:a.p+"static/media/all-ico.77438ba2.svg",id:""},P=a.p+"static/media/logo-ico.ff1c904b.svg",U=function(e){var t=e.isOpen,a=e.func;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"nav-module__darken nav-module__darken-".concat(t),onClick:a}),Object(m.jsxs)("div",{className:"nav-module nav-module-".concat(t),children:[Object(m.jsxs)("div",{className:"nav-module__head",children:[Object(m.jsx)("button",{className:"app-header__nav-button",onClick:a,children:Object(m.jsx)("img",{src:p,alt:"Close menu"})}),Object(m.jsxs)("div",{className:"app-header__title-wrap",children:[Object(m.jsx)("img",{src:P,alt:""}),Object(m.jsx)("p",{className:"nav-module__head__title",children:"frigg-oo"})]})]}),Object(m.jsxs)("nav",{className:"nav-module__list",children:[Object(m.jsx)("h2",{children:"Categories"}),Object(m.jsx)(d.b,{to:"/frigg-oo/".concat(G.id),onClick:a,children:Object(m.jsxs)("div",{className:"nav-module__list__item",children:[Object(m.jsx)("img",{src:G.src,alt:""}),Object(m.jsx)("p",{children:G.name})]})}),V.map((function(e){return Object(m.jsx)(d.b,{to:"/frigg-oo/".concat(e.id),onClick:a,children:Object(m.jsxs)("div",{className:"nav-module__list__item",children:[Object(m.jsx)("img",{src:e.src,alt:""}),Object(m.jsx)("p",{children:e.name})]})},"li-".concat(e.id))}))]})]})]})},J=a(33),Y=function(e){var t=e.title,a=e.editName,n=e.editCategory,i=e.editBought,r=e.editExpires,s=e.editAmout,d=e.editUnit,b=e.editFlair,g=e.editID,p=e.confirmText,h=Object(u.f)(),x=Object(o.b)(),f=Object(c.useState)(!1),_=Object(l.a)(f,2),v=_[0],y=_[1],C=function(){y(!v)},F=new Date,S=F.getMonth()+1<10?"0".concat(F.getMonth()+1):F.getMonth(),D="".concat(F.getFullYear(),"-").concat(S,"-").concat(F.getDate()),w=b?b.match(/rgb\([0-9]+/)[0].slice(4):32,I=b?b.match(/,[0-9]+,/)[0].slice(1).slice(0,-1):32,A=b?b.match(/,[0-9]+\)/)[0].slice(1).slice(0,-1):32,z=Object(J.a)({initialValues:{itemName:a||"",category:n||"",boughtDate:i||D,expiresDate:r||D,amout:s||"",unit:d||"",redColor:w,greenColor:I,blueColor:A},validate:function(e){var t={};return e.itemName?e.itemName.length>15&&(t.itemName="Must be 15 characters or less"):t.itemName="Required",e.category||(t.category="Required"),e.amout?e.amout>4e4?t.amout="I believe it's too much":e.amout<0&&(t.amout="I don't think it is possible"):t.amout="Required",e.unit||(t.unit="Required"),t},onSubmit:function(e){C()}}),E=function(e){var t=e.target.max,a=e.target.value;e.target.style.backgroundSize=100*a/t+"% 100%"},R=Object(c.useRef)(null),L=Object(c.useRef)(null),T=Object(c.useRef)(null);return Object(c.useEffect)((function(){R.current.style.backgroundSize=100*w/255+"% 100%",L.current.style.backgroundSize=100*I/255+"% 100%",T.current.style.backgroundSize=100*A/255+"% 100%"}),[w,I,A]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j,{navSrc:B,navAlt:"Back to list page",navFunc:function(){h.push("/frigg-oo/")},title:t,flairColor:"rgb(".concat(z.values.redColor,",").concat(z.values.greenColor,",").concat(z.values.blueColor,")")}),Object(m.jsx)("main",{className:"list-page",children:Object(m.jsxs)("form",{className:"list-page__form",onSubmit:z.handleSubmit,children:[Object(m.jsx)("label",{htmlFor:"itemName",children:"Name:"}),Object(m.jsx)("input",{name:"itemName",type:"text",placeholder:"My name",onChange:z.handleChange,onBlur:z.handleBlur,value:z.values.itemName}),z.touched.itemName&&z.errors.itemName?Object(m.jsx)("p",{className:"list-page__error",children:z.errors.itemName}):null,Object(m.jsx)("label",{htmlFor:"category",children:"Category:"}),Object(m.jsxs)("select",{name:"category",onChange:z.handleChange,onBlur:z.handleBlur,value:z.values.category,children:[Object(m.jsx)("option",{disabled:!0,value:"",hidden:!0,children:"Category"}),V.map((function(e){return Object(m.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),z.touched.category&&z.errors.category?Object(m.jsx)("p",{className:"list-page__error",children:z.errors.category}):null,Object(m.jsx)("label",{htmlFor:"boughtDate",children:"Bought:"}),Object(m.jsx)("input",{name:"boughtDate",type:"date",onChange:z.handleChange,value:z.values.boughtDate}),Object(m.jsx)("label",{htmlFor:"expiresDate",children:"Expires:"}),Object(m.jsx)("input",{name:"expiresDate",type:"date",onChange:z.handleChange,value:z.values.expiresDate}),Object(m.jsxs)("div",{className:"list-page__form__amout",children:[Object(m.jsxs)("div",{className:"list-page__form__amout__field",children:[Object(m.jsx)("label",{htmlFor:"amout",children:"Amout:"}),Object(m.jsx)("input",{name:"amout",type:"number",placeholder:"100",onChange:z.handleChange,onBlur:z.handleBlur,value:z.values.amout,min:"0"}),z.touched.amout&&z.errors.amout?Object(m.jsx)("p",{className:"list-page__error",children:z.errors.amout}):null]}),Object(m.jsxs)("div",{className:"list-page__form__unit__field",children:[Object(m.jsx)("label",{htmlFor:"unit",children:"Unit:"}),Object(m.jsxs)("select",{name:"unit",type:"text",placeholder:"g",onChange:z.handleChange,onBlur:z.handleBlur,value:z.values.unit,children:[Object(m.jsx)("option",{disabled:!0,value:"",hidden:!0,children:"unit"}),Object(m.jsx)("option",{value:"pcs.",children:"pcs."}),Object(m.jsx)("option",{value:"doses",children:"doses"}),Object(m.jsx)("option",{value:"ml",children:"ml"}),Object(m.jsx)("option",{value:"cl",children:"cl"}),Object(m.jsx)("option",{value:"l",children:"l"}),Object(m.jsx)("option",{value:"fl. oz.",children:"fl. oz."}),Object(m.jsx)("option",{value:"gal.",children:"gal."}),Object(m.jsx)("option",{value:"g",children:"g"}),Object(m.jsx)("option",{value:"dag",children:"dag"}),Object(m.jsx)("option",{value:"kg",children:"kg"}),Object(m.jsx)("option",{value:"oz.",children:"oz."}),Object(m.jsx)("option",{value:"lb.",children:"lb."})]}),z.touched.unit&&z.errors.unit?Object(m.jsx)("p",{className:"list-page__error",children:z.errors.unit}):null]})]}),Object(m.jsx)("p",{className:"list-page__form__title",children:"Flair color:"}),Object(m.jsxs)("fieldset",{className:"list-page__form__colors",children:[Object(m.jsx)("input",{type:"range",name:"redColor",min:"0",max:"255",step:"0",onChange:function(e){z.handleChange(e),E(e)},onBlur:z.handleBlur,value:z.values.redColor,id:"range-red-color",ref:R}),Object(m.jsx)("input",{type:"range",name:"greenColor",min:"0",max:"255",step:"0",onChange:function(e){z.handleChange(e),E(e)},onBlur:z.handleBlur,value:z.values.greenColor,id:"range-green-color",ref:L}),Object(m.jsx)("input",{type:"range",name:"blueColor",min:"0",max:"255",step:"0",onChange:function(e){z.handleChange(e),E(e)},onBlur:z.handleBlur,value:z.values.blueColor,id:"range-blue-color",ref:T})]}),Object(m.jsx)("button",{type:"submit",disabled:!(z.isValid&&(z.dirty||g)),className:"confirm-disabled-".concat(!(z.isValid&&(z.dirty||g))),children:"Confirm"})]})}),Object(m.jsx)(O,{isOpen:v,cancelFunc:C,confirmFunc:function(){var e=z.values;g?(x(k({id:g,name:e.itemName,category:e.category,bought:e.boughtDate,expires:e.expiresDate,amout:e.amout,unit:e.unit,flair:"rgb(".concat(e.redColor,",").concat(e.greenColor,",").concat(e.blueColor,")")})),h.push("/frigg-oo/")):(x(N({name:e.itemName,category:e.category,bought:e.boughtDate,expires:e.expiresDate,amout:e.amout,unit:e.unit,flair:"rgb(".concat(e.redColor,",").concat(e.greenColor,",").concat(e.blueColor,")")})),h.push("/frigg-oo/"))},text:p})]})},X=(a(44),function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),a=t[0],n=t[1],i=function(){n(!a)},r=Object(o.c)((function(e){return e.storage}));return Object(m.jsxs)(d.a,{children:[Object(m.jsx)(U,{isOpen:a,func:i}),Object(m.jsxs)(u.c,{children:[Object(m.jsx)(u.a,{exact:!0,path:"/frigg-oo/".concat(G.id),children:Object(m.jsx)(x,{navFunc:i,title:G.name,titleSrc:G.src})}),V.map((function(e){return Object(m.jsx)(u.a,{exact:!0,path:"/frigg-oo/".concat(e.id),children:Object(m.jsx)(x,{navFunc:i,title:e.name,titleSrc:e.src,id:e.id})},e.id)})),Object(m.jsx)(u.a,{exact:!0,path:"/frigg-oo/add-item",children:Object(m.jsx)(Y,{title:"Add new item",confirmText:"confirm"})}),r.map((function(e){return Object(m.jsx)(u.a,{exact:!0,path:"/frigg-oo/".concat(e.category,"/").concat(e.name.toLowerCase(),"-").concat(e.id),children:Object(m.jsx)(A,{id:e.id,name:e.name,category:e.category,flair:e.flair,bought:e.bought,expires:e.expires,amout:e.amout,unit:e.unit})},e.id)})),r.map((function(e){return Object(m.jsx)(u.a,{exact:!0,path:"/frigg-oo/".concat(e.category,"/").concat(e.name.toLowerCase(),"-").concat(e.id,"/edit"),children:Object(m.jsx)(Y,{title:"Edit item",editName:e.name,editAmout:e.amout,editBought:e.bought,editCategory:e.category,editExpires:e.expires,editFlair:e.flair,editUnit:e.unit,editID:e.id,confirmText:"confirm"})},"".concat(e.id,"/edit"))}))]})]})}),H=a(32),K=a.n(H),Q=a(5),W=Object(Q.b)({storage:D}),Z={key:"root",version:1,storage:K.a},$=Object(s.g)(Z,W),ee=Object(f.a)({reducer:$,middleware:function(e){return e({serializableCheck:{ignoredActions:[s.a,s.f,s.b,s.c,s.d,s.e]}})}}),te=(a(47),Object(s.h)(ee));i.a.render(Object(m.jsx)(o.a,{store:ee,children:Object(m.jsx)(r.a,{loading:null,persistor:te,children:Object(m.jsx)(X,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.15b85004.chunk.js.map